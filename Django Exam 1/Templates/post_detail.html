{% extends 'base.html' %}
{% block title %}{{ post.title }}{% endblock %}
{% block content %}
<h1>{{ post.title }}</h1>
<p><strong>Location:</strong> {{ post.location }}</p>
<p><strong>Description:</strong> {{ post.description }}</p>
<img src="{{ post.featured_image.url }}" alt="{{ post.title }}">
<p>Posted by {{ post.user.username }} on {{ post.created_on }}</p>

<h2>Comments</h2>
{% for comment in post.comments.all %}
    <div>
        <p><strong>{{ comment.name }}:</strong> {{ comment.body }} ({{ comment.created_on }})</p>
    </div>
{% empty %}
    <p>No comments yet.</p>
{% endfor %}

<h2>Add a Comment</h2>
<form method="post" action="{% url 'comment_create' post.id %}">
    {% csrf_token %}
    {{ form.as_p }}
    
    <button type="submit">Add Comment</button>
</form>

<a href="{% url 'post_update' post.pk %}">Edit Post</a>
<a href="{% url 'post_delete' post.pk %}">Delete Post</a>
{% endblock %}
